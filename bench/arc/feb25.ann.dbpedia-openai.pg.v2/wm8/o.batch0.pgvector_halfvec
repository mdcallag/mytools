2025-02-24 17:01:11,164 - annb - INFO - running only pgvector_halfvec
2025-02-24 17:01:11,226 - annb - INFO - Order: [Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 8, 'efConstruction': 32}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 16, 'efConstruction': 32}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 8, 'efConstruction': 64}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 16, 'efConstruction': 64}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 32, 'efConstruction': 64}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 8, 'efConstruction': 96}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 16, 'efConstruction': 96}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 32, 'efConstruction': 96}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 48, 'efConstruction': 96}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 8, 'efConstruction': 192}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 16, 'efConstruction': 192}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 32, 'efConstruction': 192}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 48, 'efConstruction': 192}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 64, 'efConstruction': 192}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 8, 'efConstruction': 256}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 16, 'efConstruction': 256}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 32, 'efConstruction': 256}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 48, 'efConstruction': 256}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False), Definition(algorithm='pgvector_halfvec', constructor='PGVector_halfvec', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector-halfvec', arguments=['angular', {'M': 64, 'efConstruction': 256}], query_argument_groups=[[10], [20], [30], [40], [80], [120], [200], [300], [400]], disabled=False)]
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 8, 'efConstruction': 32}])
8 M, 32 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 8, ef_construction = 32)
DDL: table 7734 MB in 1066.9 seconds, index 3867 MB in 405.0 seconds
done!
Built index in 1471.9485836029053
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 16, 'efConstruction': 32}])
16 M, 32 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 16, ef_construction = 32)
DDL: table 7734 MB in 1063.7 seconds, index 3867 MB in 653.8 seconds
done!
Built index in 1720.325397491455
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 8, 'efConstruction': 64}])
8 M, 64 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 8, ef_construction = 64)
DDL: table 7734 MB in 1065.6 seconds, index 3867 MB in 627.4 seconds
done!
Built index in 1695.756629228592
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 16, 'efConstruction': 64}])
16 M, 64 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 16, ef_construction = 64)
DDL: table 7734 MB in 1066.7 seconds, index 3867 MB in 1029.2 seconds
done!
Built index in 2098.663155078888
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 32, 'efConstruction': 64}])
32 M, 64 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 32, ef_construction = 64)
DDL: table 7734 MB in 1050.0 seconds, index 3867 MB in 1895.2 seconds
done!
Built index in 2947.977098941803
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 8, 'efConstruction': 96}])
8 M, 96 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 8, ef_construction = 96)
DDL: table 7734 MB in 1059.3 seconds, index 3867 MB in 835.4 seconds
done!
Built index in 1897.4780650138855
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 16, 'efConstruction': 96}])
16 M, 96 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 16, ef_construction = 96)
DDL: table 7734 MB in 1063.5 seconds, index 3867 MB in 1393.0 seconds
done!
Built index in 2459.239634513855
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 32, 'efConstruction': 96}])
32 M, 96 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 32, ef_construction = 96)
DDL: table 7734 MB in 1060.5 seconds, index 3867 MB in 2494.7 seconds
done!
Built index in 3558.0138676166534
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 48, 'efConstruction': 96}])
48 M, 96 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 48, ef_construction = 96)
DDL: table 7734 MB in 1050.8 seconds, index 3867 MB in 3726.0 seconds
done!
Built index in 4779.539657831192
Index size:  3960160.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 8, 'efConstruction': 192}])
8 M, 192 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 8, ef_construction = 192)
DDL: table 7734 MB in 1057.2 seconds, index 3867 MB in 1410.0 seconds
done!
Built index in 2470.060981988907
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 16, 'efConstruction': 192}])
16 M, 192 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 16, ef_construction = 192)
DDL: table 7734 MB in 1059.8 seconds, index 3867 MB in 2441.9 seconds
done!
Built index in 3504.441450357437
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 32, 'efConstruction': 192}])
32 M, 192 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 32, ef_construction = 192)
DDL: table 7734 MB in 1056.6 seconds, index 3867 MB in 4167.5 seconds
done!
Built index in 5226.920095682144
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 48, 'efConstruction': 192}])
48 M, 192 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 48, ef_construction = 192)
DDL: table 7734 MB in 1050.9 seconds, index 3867 MB in 6118.6 seconds
done!
Built index in 7172.253570795059
Index size:  3960096.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 64, 'efConstruction': 192}])
64 M, 192 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 64, ef_construction = 192)
DDL: table 7734 MB in 1068.1 seconds, index 3956 MB in 7815.3 seconds
done!
Built index in 8886.168885707855
Index size:  4051392.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 8, 'efConstruction': 256}])
8 M, 256 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 8, ef_construction = 256)
DDL: table 7734 MB in 1065.7 seconds, index 3867 MB in 1751.8 seconds
done!
Built index in 2820.2914390563965
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 16, 'efConstruction': 256}])
16 M, 256 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 16, ef_construction = 256)
DDL: table 7734 MB in 1056.3 seconds, index 3867 MB in 3148.0 seconds
done!
Built index in 4207.082011938095
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 32, 'efConstruction': 256}])
32 M, 256 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 32, ef_construction = 256)
DDL: table 7734 MB in 1064.7 seconds, index 3867 MB in 5082.7 seconds
done!
Built index in 6150.140023231506
Index size:  3960008.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 48, 'efConstruction': 256}])
48 M, 256 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 48, ef_construction = 256)
DDL: table 7734 MB in 1067.9 seconds, index 3867 MB in 7284.8 seconds
done!
Built index in 8355.514252185822
Index size:  3960112.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector_halfvec(['angular', {'M': 64, 'efConstruction': 256}])
64 M, 256 efConstruction, angular metric
Postgres concurrency for --batch is 48
Postgres database name is ib
Got a train set of size (990000 * 1536)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding::halfvec(1536) <=> %s::halfvec(1536) LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw ((embedding::halfvec(1536)) halfvec_cosine_ops)
                      WITH (m = 64, ef_construction = 256)
DDL: table 7734 MB in 1056.6 seconds, index 3956 MB in 9946.1 seconds
done!
Built index in 11005.418743610382
Index size:  4051936.0
Running query argument group 1 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 9 of 9...
Run 1/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/3...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
2025-02-25 22:33:29,899 - annb - INFO - Terminating 1 workers

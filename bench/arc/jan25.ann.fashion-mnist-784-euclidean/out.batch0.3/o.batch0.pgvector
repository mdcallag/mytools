2025-01-11 03:29:52,898 - annb - INFO - running only pgvector
Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

Found ann_benchmarks.algorithms.pgvector

2025-01-11 03:29:52,943 - annb - INFO - Order: [Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 8, 'efConstruction': 192}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 64, 'efConstruction': 256}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 48, 'efConstruction': 192}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 16, 'efConstruction': 192}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 32, 'efConstruction': 96}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 48, 'efConstruction': 256}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 32, 'efConstruction': 64}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 16, 'efConstruction': 32}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 8, 'efConstruction': 96}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 64, 'efConstruction': 192}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 48, 'efConstruction': 96}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 16, 'efConstruction': 256}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 32, 'efConstruction': 192}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 16, 'efConstruction': 64}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 8, 'efConstruction': 32}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 8, 'efConstruction': 64}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 16, 'efConstruction': 96}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 8, 'efConstruction': 256}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False), Definition(algorithm='pgvector', constructor='PGVector', module='ann_benchmarks.algorithms.pgvector', docker_tag='ann-benchmarks-pgvector', arguments=['euclidean', {'M': 32, 'efConstruction': 256}], query_argument_groups=[[10], [20], [40], [80], [120], [200], [400], [800]], disabled=False)]
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 8, 'efConstruction': 192}])
8 M, 192 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 8, ef_construction = 192)
Size is 234 MB
done!
Built index in 62.95384502410889
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 64, 'efConstruction': 256}])
64 M, 256 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 64, ef_construction = 256)
Size is 238 MB
done!
Built index in 598.8123316764832
Index size:  244400.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 48, 'efConstruction': 192}])
48 M, 192 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 48, ef_construction = 192)
Size is 234 MB
done!
Built index in 355.85705637931824
Index size:  240096.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 16, 'efConstruction': 192}])
16 M, 192 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 16, ef_construction = 192)
Size is 234 MB
done!
Built index in 97.38356947898865
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 32, 'efConstruction': 96}])
32 M, 96 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 32, ef_construction = 96)
Size is 234 MB
done!
Built index in 168.30181670188904
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 48, 'efConstruction': 256}])
48 M, 256 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 48, ef_construction = 256)
Size is 234 MB
done!
Built index in 379.55916142463684
Index size:  240104.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 32, 'efConstruction': 64}])
32 M, 64 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 32, ef_construction = 64)
Size is 234 MB
done!
Built index in 152.34577536582947
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 16, 'efConstruction': 32}])
16 M, 32 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 16, ef_construction = 32)
Size is 234 MB
done!
Built index in 50.37157607078552
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 8, 'efConstruction': 96}])
8 M, 96 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 8, ef_construction = 96)
Size is 234 MB
done!
Built index in 42.269086599349976
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 64, 'efConstruction': 192}])
64 M, 192 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 64, ef_construction = 192)
Size is 238 MB
done!
Built index in 576.4527666568756
Index size:  244040.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 48, 'efConstruction': 96}])
48 M, 96 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 48, ef_construction = 96)
Size is 234 MB
done!
Built index in 313.9079451560974
Index size:  240152.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 16, 'efConstruction': 256}])
16 M, 256 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 16, ef_construction = 256)
Size is 234 MB
done!
Built index in 114.78570175170898
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 32, 'efConstruction': 192}])
32 M, 192 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 32, ef_construction = 192)
Size is 234 MB
done!
Built index in 198.06303358078003
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 16, 'efConstruction': 64}])
16 M, 64 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 16, ef_construction = 64)
Size is 234 MB
done!
Built index in 61.670818567276
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 8, 'efConstruction': 32}])
8 M, 32 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 8, ef_construction = 32)
Size is 234 MB
done!
Built index in 26.9757981300354
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 8, 'efConstruction': 64}])
8 M, 64 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 8, ef_construction = 64)
Size is 234 MB
done!
Built index in 35.01384377479553
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 16, 'efConstruction': 96}])
16 M, 96 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 16, ef_construction = 96)
Size is 234 MB
done!
Built index in 70.66429090499878
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 8, 'efConstruction': 256}])
8 M, 256 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 8, ef_construction = 256)
Size is 234 MB
done!
Built index in 75.41995358467102
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Trying to instantiate ann_benchmarks.algorithms.pgvector.PGVector(['euclidean', {'M': 32, 'efConstruction': 256}])
32 M, 256 efConstruction, euclidean metric
Postgres concurrency for --batch is 8
Postgres database name is ib
Got a train set of size (60000 * 784)
Got 10000 queries
Query is: SELECT id FROM items ORDER BY embedding <-> %s LIMIT %s
copying data...
creating index as CREATE INDEX ON items USING hnsw (embedding vector_l2_ops)
                      WITH (m = 32, ef_construction = 256)
Size is 234 MB
done!
Built index in 221.9006745815277
Index size:  240008.0
Running query argument group 1 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 2 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 3 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 4 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 5 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 6 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 7 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Running query argument group 8 of 8...
Run 1/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 2/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 3/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 4/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
Run 5/5...
Processed 1000/10000 queries...
Processed 2000/10000 queries...
Processed 3000/10000 queries...
Processed 4000/10000 queries...
Processed 5000/10000 queries...
Processed 6000/10000 queries...
Processed 7000/10000 queries...
Processed 8000/10000 queries...
Processed 9000/10000 queries...
Processed 10000/10000 queries...
2025-01-11 09:10:27,928 - annb - INFO - Terminating 1 workers
